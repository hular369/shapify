<?php
require_once 'vendor/autoload.php';

use Hular369\GeoShapify\ShapeFactory;

$ktm_ringroad = [[27.741837, 85.331797], [27.718266, 85.284406], [27.692692, 85.282149], [27.657977, 85.322798], [27.678999, 85.349976],];
$ktm = [[27.698575557095037, 85.21287032473857], [27.599144567514504, 85.34547206688885], [27.73188108876632, 85.44723619458557], [27.790277684888636, 85.30229940665387]];
$nepal = [[28.833868, 80.096437], [26.321436, 87.970947], [27.870993, 88.103570], [30.461833, 81.406092]];
$ind = [[30.660661, 74.555731], [12.359506, 75.467183], [24.900189, 87.316049]];
$china = [[38.737509, 74.856030], [24.781941, 114.554745], [38.214843, 117.328006], [50.875703, 102.383211], [46.400059, 85.178723]];
$sa = [[31.915856, 40.498409], [28.137540, 35.105958], [17.311644, 42.501320], [20.469536, 54.724210], [28.454081, 47.534275]];
$egpt = [[31.597741, 25.112545], [22.152357, 24.958816], [22.081148, 36.719048], [31.269823, 31.338550]];
$nz = [[-45.777942, 166.623161], [-46.628420, 169.285706], [-38.597225, 177.314302], [-38.083175, 174.774644]];
$aus = [[-34.171110, 115.795870], [-31.175155, 130.950780], [-37.630380, 141.223572],
        [-37.710888, 149.157015], [-27.451355, 153.022025], [-18.858778, 146.207401], [-14.376839, 135.120923], [-22.474305, 114.168497]];
$spn = [[37.255822, -7.513660], [36.347084, -6.101301], [36.994406, -2.065988], [42.329098, 1.868442], [43.620718, -8.093736], [42.048796, -8.875578], [41.955086, -6.252625]];
$mrtn = [[21.298245840490015, -16.787743941576906],[16.607152843435603, -16.26238727877592], [15.93473760162126, -5.638508097689386], [25.053687402228004, -6.630848460757908], [25.053687402228004, -5.054778472354962], [27.15029972659487, -8.615529186894953], [25.94933468542933, -8.6739021494284], [25.88082193119576, -11.969078332618059], [23.508242031769615, -11.931228147686525], [21.372527735797636, -13.004740115743632]];
$imgnr = [[21.298245840490015, -16.787743941576906],[16.607152843435603, -16.26238727877592]];

$shape = new ShapeFactory();
$drawShape = $shape::create('polygon', $imgnr);
$isInside  = $drawShape->contains(27.701853, 85.319418); 
$sides = $drawShape->sides(); 
$nearestVertex = $drawShape->nearestVertex(27.684822, 85.339958); 
$area = $drawShape->area(); // in sq. km

echo $isInside;
echo PHP_EOL;
echo $sides;
echo PHP_EOL;
echo json_encode($nearestVertex);
echo PHP_EOL;
echo $area;
echo PHP_EOL;

$shape = new ShapeFactory();
$drawShape = $shape::create('circle', null, 27.710258, 85.279664, 10); // 10 km radius
$isInside  = $drawShape->contains(27.710258, 85.279664); 
$sides = $drawShape->sides(); 
$nearestVertex = $drawShape->nearestVertex(27.710258, 85.279664); 
$area = $drawShape->area(); // in sq. km

echo $isInside;
echo PHP_EOL;
echo $sides;
echo PHP_EOL;
echo json_encode($nearestVertex);
echo PHP_EOL;
echo $area;
echo PHP_EOL;
